{% extends 'base.html.twig' %}

{% block title %}Posts{% endblock %}

{% block body %}
    <h1 style="text-align: center;">SUIVITAL Forum</h1>

    <div style="max-width: 800px; margin: 0 auto;">
        {% for post in posts %}
            <div style="border: 1px solid #ddd; padding: 15px; margin-bottom: 20px; border-radius: 10px;">
                <strong style="font-size: 1.3em;">{{ post.author }}</strong>
                <br>
                <small style="color: gray;">{{ post.getCreatedAt()|date('Y-m-d H:i') }}</small>
                <p style="font-weight: bold; font-size: 1em; margin: 5px 0;">{{ post.title }}</p>
                <p>{{ post.content }}</p>

                <div style="display: flex; justify-content: space-between;">
                    <div>
                        <a href="{{ path('app_post_edit', {'id': post.id}) }}">Edit</a> | 
                        <a href="{{ path('app_post_delete', {'id': post.id}) }}" onclick="return confirm('Are you sure?');">Delete</a>
                    </div>
                    <div>
                        <a href="{{ path('app_comment_new', {'postId': post.id}) }}" class="btn btn-primary">Comment</a>
                    </div>
                </div>
            </div>
        {% else %}
            <p style="text-align: center;">No posts found.</p>
        {% endfor %}

        <div style="text-align: center; margin-top: 20px;">
            <a href="{{ path('app_post_new') }}" class="btn btn-success">Add New Post</a>
        </div>
    </div>
{% endblock %}
